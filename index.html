<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MyCareGorithm Sprint Analytics | Live Dashboard</title>
    
    <!-- Preload critical resources -->
    <link rel="preload" href="https://cdn.jsdelivr.net/npm/chart.js" as="script">
    <link rel="preload" href="css/styles.css" as="style">
    <link rel="preload" href="js/dashboard.js" as="script">
    
    <!-- External Dependencies -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns/dist/chartjs-adapter-date-fns.bundle.min.js" defer></script>
    
    <!-- Styles -->
    <link rel="stylesheet" href="css/styles.css">
    
    <!-- Meta tags for performance -->
    <meta name="description" content="MyCareGorithm Sprint Analytics Dashboard - Real-time sprint performance tracking and business value analysis">
    <meta name="keywords" content="sprint analytics, agile, project management, performance tracking">
    <meta name="author" content="MyCareGorithm Development Team">
    
    <!-- Cache control -->
    <meta http-equiv="Cache-Control" content="public, max-age=3600">
</head>
<body>
    <div class="dashboard-container">
        <!-- Master Header -->
        <div class="master-header">
            <h1 class="master-title">Sprint Analytics Dashboard</h1>
            <div class="master-subtitle">MyCareGorithm Development Performance & Business Value Tracking</div>
            
            <!-- GitHub Pages Notice -->
            <div class="github-notice">
                <div class="github-notice-title">ðŸ“¡ Live Dashboard</div>
                <div class="github-notice-text">
                    This dashboard is hosted on GitHub Pages and updates when new sprint data is uploaded to the repository.
                </div>
            </div>
            
            <!-- Sprint Navigation Controls -->
            <div class="sprint-controls">
                <select id="sprintSelector" class="sprint-selector-main">
                    <option value="current">Select Sprint to View</option>
                    <option value="25Q309-S2">Sprint 25Q309-S2 (Current)</option>
                    <option value="25Q309-S1">Sprint 25Q309-S1 (Previous)</option>
                </select>
                
                <button id="loadSprintBtn" class="control-btn">Load Sprint</button>
                <button id="refreshDataBtn" class="control-btn">Refresh Data</button>
            </div>
            
            <!-- Status Overview -->
            <div class="status-overview" id="statusOverview">
                <span class="status-badge badge-current" id="sprintNameBadge">Sprint 25Q309-S2 Active</span>
                <span class="status-badge badge-ready" id="completionBadge">0% Complete</span>
                <div class="status-selector-container">
                    <select id="sprintStatusSelector" class="status-selector">
                        <option value="planning">Planning Phase</option>
                        <option value="in-progress">In Progress</option>
                        <option value="completed">Completed</option>
                    </select>
                </div>
            </div>
        </div>

        <!-- Main Dashboard Content -->
        <div class="dashboard-content" id="dashboardContent">
            <!-- Loading State -->
            <div class="loading" id="loadingState">
                <div class="spinner"></div>
                <div>Loading sprint data...</div>
            </div>

            <!-- Default Placeholder Content -->
            <div class="content-placeholder" id="placeholderContent">
                <div class="placeholder-icon">ðŸ“Š</div>
                <h2 class="placeholder-title">Sprint Analytics System</h2>
                <div class="placeholder-text">
                    <p>Select a sprint from the dropdown above to view comprehensive analytics with time savings tracking, team performance insights, and predictive analytics.</p>
                    <p>This dashboard automatically loads the latest sprint data from the GitHub repository.</p>
                </div>
            </div>

            <!-- Dynamic Sprint Content (Loaded via JavaScript) -->
            <div id="sprintContent" style="display: none;">
                <!-- Sprint content will be dynamically loaded here -->
            </div>
        </div>
    </div>

    <!-- Embedded Sprint Data (Minimal fallback) -->
    <script>
        // Minimal embedded data for offline fallback
        window.EMBEDDED_SPRINT_DATA = {
            '25Q309-S2': {
                config: { id: '25Q309-S2', name: 'Sprint 25Q309-S2', startDate: '2025-09-22', endDate: '2025-10-03', totalStoryPoints: 38 },
                metrics: { totalStoryPoints: 38, velocity: 0, completionRate: 0, successProbability: 15 },
                executiveSummary: {
                    securityCompliance: { title: "Security & Access Control", timeSavings: "60% reduction in role management time", storyPoints: 5, impact: "Server-enforced RBAC with comprehensive role management", achievements: ["Role hierarchy", "API protection", "Audit trail"] },
                    marketExpansion: { title: "Global Market Access", marketExpansion: "Spanish, French & Chinese markets", storyPoints: 4, impact: "End-to-end multilingual content", achievements: ["Language switcher", "Localized content", "i18n implementation"] },
                    operationalExcellence: { title: "DevOps & Infrastructure", efficiencyGain: "80% reduction in deployment time", storyPoints: 9, impact: "Docker containerization with automated CI/CD", achievements: ["Docker", "CI/CD pipeline", "Blue-green deployments"] },
                    technicalModernization: { title: "Platform Modernization", competitiveAdvantage: "TypeScript migration", storyPoints: 2, impact: "Technical debt reduction", achievements: ["TypeScript", "Modern patterns", "Zero downtime"] }
                },
                teamPerformance: {
                    'William Larsen': { points: 0, items: 0, themes: ['Planning Phase'] },
                    'Brad Foley': { points: 0, items: 0, themes: ['Planning Phase'] },
                    'Josh Rogers': { points: 0, items: 0, themes: ['Planning Phase'] },
                    'Samantha Sutton': { points: 0, items: 0, themes: ['Planning Phase'] },
                    'Apurva Kalvade': { points: 0, items: 0, themes: ['Planning Phase'] },
                    'Jenish Dabhi': { points: 0, items: 0, themes: ['Planning Phase'] },
                    'Vaishnavi Chitara': { points: 0, items: 0, themes: ['Planning Phase'] },
                    'Karan Mehta': { points: 0, items: 0, themes: ['Planning Phase'] }
                },
                chartData: {
                    statusDistribution: [0, 0, 0, 38, 0, 0, 0],
                    storyPointsByStatus: [0, 0, 0, 38, 0, 0],
                    epicProgress: [5, 4, 4, 9, 5, 4, 2, 5],
                    epicCompletionRates: [0, 0, 0, 0, 0, 0, 0, 0],
                    forecastData: [0, 0, 0, 0, 0]
                },
                insights: {
                    criticalBlockers: "All 38 items in To Do status - sprint planning or execution issues",
                    velocityGap: "0 pts/day vs 3.2 target (100% gap - immediate intervention required)",
                    successProbability: "15% chance of completing sprint objectives",
                    valueTracking: "Sprint represents $266,570 potential value but requires immediate execution focus"
                }
            },
            '25Q309-S1': {
                config: { id: '25Q309-S1', name: 'Sprint 25Q309-S1', startDate: '2025-09-02', endDate: '2025-09-15', totalStoryPoints: 98 },
                metrics: { totalStoryPoints: 98, velocity: 38, completionRate: 37.3, successProbability: 85 },
                executiveSummary: {
                    clinicalWorkflow: { title: "Enhanced Clinical Workflow", timeSavings: "15-20 minutes per case", storyPoints: 35, impact: "Reduced clinical documentation time", achievements: ["19 Features Completed", "2 Critical Blockers Identified"] },
                    mobilePlatform: { title: "Mobile Platform Foundation", marketExpansion: "40M+ users addressable", storyPoints: 21, impact: "Spanish-speaking market access enabled", achievements: ["2 Mobile Screens", "Multi-language Support"] },
                    platformStability: { title: "Platform Stability & Performance", efficiencyGain: "60% reduction in user issues", storyPoints: 25, impact: "Improved system reliability", achievements: ["8 Critical Bugs Fixed", "Performance Optimized"] },
                    innovation: { title: "Advanced Visualization", competitiveAdvantage: "First-to-market 3D visualization", storyPoints: 2, impact: "Enhanced diagnostic capabilities", achievements: ["3D Model Integration", "Interactive Visualization"] }
                },
                teamPerformance: {
                    'William Larsen': { points: 12, items: 6, themes: ['API Development', 'Frontend'] },
                    'Brad Foley': { points: 10, items: 5, themes: ['Backend', 'Infrastructure'] },
                    'Josh Rogers': { points: 8, items: 4, themes: ['DevOps', 'Optimization'] },
                    'Samantha Sutton': { points: 6, items: 4, themes: ['QA', 'Testing'] },
                    'Apurva Kalvade': { points: 5, items: 3, themes: ['API', 'Multilingual'] },
                    'Jenish Dabhi': { points: 4, items: 3, themes: ['Frontend', 'Multilingual'] },
                    'Vaishnavi Chitara': { points: 4, items: 3, themes: ['Backend', 'Multilingual'] },
                    'Karan Mehta': { points: 6, items: 3, themes: ['Mobile', 'App Development'] }
                },
                chartData: {
                    statusDistribution: [19, 15, 6, 7, 4, 2, 2],
                    storyPointsByStatus: [38, 18, 24, 12, 8, 3],
                    epicProgress: [35, 21, 25, 2, 8, 4, 3],
                    epicCompletionRates: [40, 60, 50, 100, 30, 25, 20],
                    forecastData: [38, 43, 49, 54, 76]
                },
                insights: {
                    criticalBlockers: "2 blocked items affecting core diagnosis functionality",
                    velocityGap: "2.7 pts/day vs 7.0 target (need 61% increase)",
                    successProbability: "85% chance of completing 70+ story points",
                    valueTracking: "Add time/cost savings metrics for ROI measurement"
                }
            }
        };
    </script>

    <!-- Main Dashboard Script -->
    <script src="js/dashboard.js" defer></script>
</body>
</html>
